---
import Button from "@/components/Button.astro";
import ImageSwitch from "@/components/ImageSwitch/ImageSwitch.astro";
import "@/styles/globals.css";
import Nav from "./Nav.astro";
import Section from "./Section.astro";
import Socials from "./Socials.astro";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Astro description" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>
  <body>
    <style>
      [data-is="global-header"] {
        --primary: #0b0e16;
        --color-start: rgba(11, 14, 22, 0);
        --fade-to-b: linear-gradient(to bottom, var(--color-start) 0%, var(--color-start) 80%, #0b0e16 100%);
      }

      .fade-out-bottom {
        background: var(--fade-to-b);
      }
    </style>
    <Section className="relative text-white" data-is="global-header" as="header">
      <ImageSwitch
        uniqueKey="hero"
        alt="hero"
        className="absolute full max-w-screen object-cover z-[0] brightness-110 contrast-125"
      />
      <!-- OVERLAY -->
      <div class="relative h-screen fade-out-bottom z-[10]"></div>
      <!-- OVERLAY -->
      <!-- <div class="absolute full max-w-screen bottom-0 fade-out-bottom h-52" data-debug="fade-out-hero"></div> -->
      <section class="absolute-align z-10 w-full px-52 py-2 h-1/4 pointer-events-auto">
        <nav class="full [&>div]:full">
          <div class="horizontal center gap-12 font-bold [&>li>a:hover]:underline text-lg">
            <a href="/">
              <h1 class="text-2xl">A l'abordarbre</h1>
            </a>
            <div class="grow"></div>
            <a href="/contact">Tarifs</a>
            <a href="/nous">Nous</a>
            <a href=`/contact`>
              <Button size="sm" ring="md" variant="outline" data-is="hero-button">Contact</Button>
            </a>
          </div>
        </nav>
      </section>
      <slot name="hero" />
    </Section>
    <main>
      <slot />
    </main>

    <Section
      as="footer"
      size="quarter"
      extension="none"
      className="vertical items-end justify-center [&_a:hover]:underline [&>*]:px-10"
      data-is="global-footer"
    >
      <section class="full horizontal items-center justify-between">
        <h1 class="text-2xl">A l'abordarbre</h1>
        <Nav className="text-black/80 font-semibold space-x-16" />
        <article class="text-black/50 font-bold">
          <Socials />
        </article>
      </section>
      <a class="uppercase text-[0.8rem] mt-2 block text-right" href="https://github.com/razmi0">dev by razmio</a>
    </Section>
  </body>
</html>
