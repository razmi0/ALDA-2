---
const styles = "absolute-align w-screen h-screen max-w-screen object-cover z-[0] pointer-events-none";
---

<script>
  interface NavigatorType extends Navigator {
    connection: {
      effectiveType: string;
      rtt: number;
      downlink: number;
    };
  }

  const videoEl = document.querySelector("video") as HTMLVideoElement;
  const { effectiveType, rtt, downlink } = (navigator as NavigatorType).connection;
  const isGoodConnection = (effectiveType === "4g" && rtt < 1000 && downlink > 4).toString();
  videoEl.dataset.connection = isGoodConnection;
</script>

<style>
  [data-connection="false"] {
    display: none;
  }
  [data-connection="true"] {
    display: block;
  }
</style>

<video data-connection="false" class={styles} autoplay loop muted playsinline>
  <source src="/videos/hero.mp4" type="video/mp4" />
</video>
<!-- <Image src="HeroImg" alt="hero image" class={styles} /> -->
